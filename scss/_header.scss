@import "mixins";
@import "variables";

@media (any-hover: hover) {
  .header .header-menu .btn:hover {
    > a {
      color: $color-base;
    }
  }
}


.header {
  .header-top {
    &-content {
      @include flex-c-sb;
      padding: 10px 0;
    }
  }
  .burger {
    display:         none;
    justify-content: center;
    align-items:     center;
    width:           23px;
    height:          23px;
    cursor:          pointer;
    &:hover {
      opacity: .7;
    }
    span {
      position:   relative;
      width:      100%;
      height:     3px;
      background: $color-main;
      transition: .3s linear;
      &::after, &::before {
        content:    "";
        position:   absolute;
        z-index:    1;
        top:        7px;
        left:       0;
        width:      100%;
        height:     3px;
        background: $color-main;
      }
      &::before {
        top: -7px;
      }
    }
    &.active {
      span {
        background: transparent;

        &::before {
          top:       0;
          transform: rotate(45deg);
        }

        &::after {
          top:       0;
          transform: rotate(-45deg);
        }
      }
    }
  }
  .header-logo {
    width: 19.65%;
    color: $color-main;
    a {
      @include flex-c-sb;
    }
    .logo-image {
      width:  30.43%;
      height: 60px;
    }
    .logo-name {
      width:      65.21%;
      height:     34px;
      margin-top: 10px;
    }
  }
  .header-ad {
    width:   62.35%;
    display: flex;
  }
  .header-menu {
    background: #272727;
    .menu-content {
      @include flex-c-sb;
      position: relative;
    }
    .menu-list {
      @include flex-c-sb;
    }
    .menu-item {
      > a {
        position:       relative;
        display:        flex;
        text-transform: uppercase;
        font-size:      14px;
        padding:        22px 25px;
        color:          $color-base;
        transition:     .3s ease;
        border:         none;
        overflow:       hidden;
        &:hover, &.active {
          background: #3b3b3b;
          &:after {
            opacity:    1;
            transform:  translate(0, 0);
            visibility: visible;
          }
        }
        &:after {
          content:    "";
          position:   absolute;
          top:        0;
          left:       0;
          z-index:    1;
          width:      100%;
          height:     5px;
          background: $color-btn;
          opacity:    0;
          transform:  translate(-50%, 0);
          transition: .3s linear;
          visibility: hidden;
        }
      }
      &.active {
        background: #3b3b3b;
        a:after {
          opacity:    1;
          transform:  translate(0, 0);
          visibility: visible;
        }
      }
    }
    .btn {
      > a {
        position:       relative;
        background:     $color-btn;
        color:          #272727;
        padding:        20px 35px;
        text-transform: uppercase;
        font-size:      18px;
        font-weight:    bold;
        letter-spacing: 0.3px;
      }
      &.visible {
        > a {
          color: $color-base;
          &::after {
            border-color: $color-base;
            transform:    translate(-50%, -50%) rotate(45deg);
          }
        }
        .mega-menu {
          opacity:    1;
          visibility: visible;
          transform:  translate(0, 0);
        }
      }
    }
  }
  .mega-menu {
    opacity:        0;
    visibility:     hidden;
    transform:      translate(0, 20px);
    background:     transparent;
    position:       absolute;
    z-index:        10;
    top:            61px;
    left:           0;
    width:          100%;
    pointer-events: none;
    .container {
      padding: 0;
    }
    &-inner {
      display:    flex;
      background: $color-base;
      border:     1px solid #ede9e9;
      border-top: 10px solid $color-attention;
      padding:    35px 20px 55px;
      box-shadow: 0 .125rem .25rem rgba(0, 0, 0, .075);
    }
    &-list {
      padding:      0 30px;
      width:        33%;
      border-right: 1px solid $color-border;
      &:last-child {
        border: none;
      }
      &:first-child {
        padding-left: 0;
      }
    }
    &-title {
      margin-bottom: 35px;
      h4 {
        color:          $color-attention;
        border:         none;
        font-size:      16px;
        font-weight:    bold;
        text-transform: uppercase;
      }
    }
    .list-content {
      @include flex-c-sb;
    }
    &-item {
      display:        flex;
      flex-direction: column;
      .active {
        border-left:  2px solid $color-attention;
        margin-right: -10px;
        padding-left: 5px;
      }
      a {
        font-size:     16px;
        color:         $color-text;
        margin-bottom: 20px;
        line-height:   1.1;
        &:hover {
          color: $color-attention;
        }
      }
    }
  }
}


@keyframes showMegaMenu {
  0% {
    opacity:        0;
    visibility:     hidden;
    transform:      translate(0, 20px);
    pointer-events: initial;
  }
  100% {
    opacity:        1;
    visibility:     visible;
    transform:      translate(0, 0);
    pointer-events: initial;
  }
}


@keyframes hideMegaMenu {
  0% {
    opacity:    1;
    visibility: visible;
    transform:  translate(0, 0);
  }
  70% {
    opacity:    1;
    visibility: visible;
    transform:  translate(0, 0);
  }
  100% {
    opacity:    0;
    visibility: hidden;
    transform:  translate(0, 20px);
  }
}

@media screen and (max-width: 1100px) {
  .header {
    .header-menu {
      .menu-item {
        > a {
          padding: 22px 15px;
        }
      }
    }
  }
}

@media screen and (max-width: 992px) {
  .header {
    .header-top {
      position:   fixed;
      background: $color-base;
      width:      100%;
      z-index:    10;
      &-content {
        display:     flex;
        align-items: center;
        padding:     10px 0;
      }
      .burger {
        display: flex;
      }
      .header-logo {
        margin: 0 auto;
        width:  150px;
        .logo-image {
          display: none;
        }
        .logo-name {
          margin-top: 0;
          width:      100%;
        }
      }
      .header-ad {
        display: none;
      }
    }
    .header-menu {
      position:   fixed;
      top:        54px;
      left:       0;
      z-index:    10;
      background: rgba(0, 0, 0, 0.7);
      width:      100%;
      height:     100%;
      opacity:    0;
      visibility: hidden;
      transition: 0.3s linear;
      &.mobile-menu {
        opacity:    1;
        visibility: visible;
        .menu-content {
          transform: translate(0, 0);
        }
      }
      .container {
        padding: 0;
      }
      .btn {
        width: 100%;
        > a {
          display:        inline-block;
          width:          100%;
          padding:        20px;
          background:     #f8c246;
          text-transform: none;
          font-weight:    500;
          &:active {
            background: rgba(254, 191, 1, 0.8);
            color:      $color-base;
          }
          &::after {
            content:     "";
            position:    absolute;
            top:         50%;
            left:        90%;
            width:       6px;
            height:      6px;
            display:     inline-block;
            cursor:      pointer;
            transform:   translate(-50%, -50%) rotate(-135deg);
            border-top:  1px solid #272727;
            border-left: 1px solid #272727;
          }
        }
        .mega-menu {
          background: $color-base;
          text-align: left;
          top:        0;
          position:   relative;
          animation:  none;
          &-inner {
            flex-direction: column;
            border:         none;
            padding:        20px 0 0;
            box-shadow:     none;
          }
          &-list {
            width:   100%;
            border:  none;
            padding: 0;
            .list-content {
              padding: 0 15px;
            }
          }
          &-item {
            a {
              margin-bottom: 35px;
            }
          }
          &-title {
            padding:       0 5px;
            margin-bottom: 25px;
            h4 {
              color:          #fece3e;
              letter-spacing: 1px;
              border-bottom:  1px solid $color-border;
              padding-bottom: 15px;
            }
          }
        }
      }
      .menu-content {
        justify-content: flex-start;
        width:           270px;
        background:      $color-base;
        flex-direction:  column;
        align-items:     flex-start;
        padding:         0;
        box-shadow:      0 2px 4px rgba(0, 0, 0, .075);
        overflow:        auto;
        height:          calc(100vh - 54px);
        transform:       translate(-100%, 0);
        transition:      0.3s linear;
        &::-webkit-scrollbar {
          width: 4px;
        }
        &::-webkit-scrollbar-thumb {
          background:    rgba(255, 206, 64, 0.5);
          border:        none;
          border-radius: 0;
          opacity:       .2;
        }
        &::-webkit-scrollbar-thumb:hover {
          background-color: rgba(255, 206, 64, 1);
        }
        &::-webkit-scrollbar-track {
          background:    #e1e1e1;
          border:        none;
          border-radius: 0;
        }
      }
      .menu-list {
        flex-direction: column;
        width:          100%;
      }
      .menu-item {
        width:       100%;
        align-items: flex-start;
        &:hover {
          > a {
            color:      $color-base;
            background: #272727;
            border:     none;
            &:after {
              display: none;
            }
          }
        }
        a {
          display:  flex;
          width:    100%;
          padding:  20px;
          color:    #272727;
          overflow: hidden;
        }
        &.active {
          background: #272727;
          > a {
            color:      $color-base;
            border-top: none;
            background: #272727;
            &:after {
              display: none;
            }
          }
        }
        .list-content {
          flex-direction: column;
          text-align:     left;
          align-items:    flex-start;
          padding:        0 15px;
        }
      }
      .burger {
        align-self: flex-start;
      }
    }
  }
}

@media screen and (max-width: 768px) {
  .header {
    .header-menu {
      .btn {
        font-size: 16px;
      }
    }
  }
}

@media screen and (max-width: 567px) {
  .header {
    .header-top-content {
      display:         flex;
      justify-content: space-between;
      .logo-name {
        margin: 0;
      }
    }
  }
}